#include<stdio.h>
#include<math.h>
#include<stdlib.h>

#define fOd 1.0
#define fDo 10.0
#define dx 0.0001
#define numberOfTests 1000000

double f1(double x)
{
	return pow(x,2);
}

double losuj(double min, double max)
{
	double tmp = max - min;
	double l;
	l = rand(); 
	//l *= (y-x);
	//l += x;
	
	return (fmod(l, tmp) + min);
}

double defineMINMAX(double *pmin, double *pmax)
{
	double ff, x;
	double max = 0;
	double min = 0;

	for(x = fOd; x<=fDo; x+=dx)
	{
		ff = f1(x);
		if(ff>max)
		{
			max = ff;
		}else if(ff<min)
		{
			min = ff;
		}
		
	}
	*pmin = min;
	*pmax = max;
	printf("min: %3.3f, max: %3.3f\n", min, max);
}

int checkPoint(double x, double y)
{

	double ff = f1(x);
	printf("x: %f, y: %f, ff: %f\n", x, y, ff);
	
	if(ff>=y)
	{
		return 1;
	}else return 0;
}



int main()
{	
	int it, n, pointsInside;
	double min, max, result;
	n = numberOfTests;
	pointsInside = 0;
	
	defineMINMAX(&min, &max);
	
	it = 0;
	for(it = 0; it<n; it++)
	{
		if(checkPoint(losuj(fOd, fDo), losuj(min, max))==1)
		{
			pointsInside++;
		}
	}
	
	printf("pointsInside/n: %d/%d\n", pointsInside, n);
	printf("fDo - fOd: %f\n", (fDo-fOd));
	printf("max: %f, min: %f\n", max, min);
	
	result = (max-min) * (fDo - fOd) * ((double)pointsInside/(double)n);
	
	printf("%f", result);
	
	return 0;
}
